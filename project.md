D√©velopper l'Architecture Initiale (Skeleton) d'une application SaaS de gestion de tr√©sorerie appel√©e FinOp Manager. Le syst√®me doit √™tre un monolithe modulaire bas√© sur la stack TALL (Tailwind, Alpine, Livewire, Laravel) et int√©grer nativement la gestion multi-devises et les abonnements Mobile Money.üõ†Ô∏è 1. ARCHITECTURE TECHNIQUE & BEST PRACTICES1.1 Stack PrincipaleBackend : Laravel 12+ (PHP).Frontend Dynamique : Livewire 3 et Alpine.js (pour les interactions minimales).Styling : Tailwind CSS (priorit√© absolue) pour toutes les classes utilitaires.Templating : Blade (pour les layouts et l'inclusion des composants Livewire).CSS Note : Int√©grer Bootstrap uniquement pour les structures de base ou les composants sp√©cifiques si n√©cessaire, mais l'approche design doit √™tre Tailwind-first.1.2 Multi-TenantL'application doit √™tre con√ßue pour g√©rer plusieurs √âtablissements (Organisations) de mani√®re isol√©e. L'acc√®s aux donn√©es doit √™tre scoped par l'ID de l'Organisation.1.3 Mode Dark/Light (Nouveaut√© Expert)Impl√©menter un s√©lecteur de Mode Sombre (Dark Mode) dans l'interface utilisateur.Utiliser la fonctionnalit√© native de Tailwind CSS dark: et la gestion de l'√©tat via Alpine.js et le stockage local (localStorage).üí∞ 2. LOGIQUE FINANCI√àRE ET MON√âTAIRE2.1 Mod√®le de Donn√©esCr√©er les mod√®les et migrations pour Organization, User, Account (Cat√©gories), Transaction, Beneficiary, et ExchangeRate.La table Transactions doit imp√©rativement stocker le amount, la currency utilis√©e (USD, CDF, EUR) et le exchange_rate en vigueur au moment de l'op√©ration pour garantir l'exactitude des rapports historiques.2.2 Gestion Multi-DevisesImpl√©menter un Service ou une Classe Utile (ex: CurrencyConverter) pour convertir les montants vers la devise de r√©f√©rence de l'Organisation, bas√© sur le taux du jour stock√© en base de donn√©es.Cr√©er le composant Bureau de Change Interne (via Livewire) pour enregistrer les transferts de fonds entre les poches de devises de l'organisation.üë§ 3. S√âCURIT√â ET GESTION DES R√îLES (RBAC)3.1 R√¥les UtilisateursGestionnaire (Admin) : Acc√®s √† toutes les configurations, rapports, validation et taux de change.Caissier (Data Entry) : Acc√®s limit√© √† la saisie des op√©rations.3.2 Piste d'Audit et Historique d'Acc√®s (Nouveaut√© Expert)Historique des Connexions : Cr√©er un Laravel Listener sur l'√©v√©nement \Illuminate\Auth\Events\Login pour enregistrer dans une table access_logs l'utilisateur, l'heure, et l'adresse IP de chaque connexion √† l'√©tablissement.Piste d'Audit des Op√©rations : Utiliser les Observers ou Spatie/Laravel-Activitylog pour tracer toutes les modifications (CRUD) sur les transactions et les taux de change.üí≥ 4. ABONNEMENTS ET INT√âGRATION PAWAPAY4.1 Mod√®le √âconomiqueMettre en place un syst√®me de Middleware pour l'acc√®s conditionnel :Acc√®s : Si on_trial (7 jours) OU subscription_active.Blocage : Redirection vers la page de paiement si l'essai est termin√© et l'abonnement est inactif.4.2 Int√©gration des Paiements (Pawapay)Cr√©er un Service Laravel (ex: PawapayService) pour encapsuler les appels API v2 pour le processus de d√©p√¥t.Mettre en place une route d√©di√©e pour les Webhooks (Callbacks) de Pawapay pour g√©rer la mise √† jour asynchrone du statut de l'abonnement (PENDING -> COMPLETED).Le composant de paiement Livewire doit utiliser une technique de Polling pour v√©rifier le statut de la transaction c√¥t√© client apr√®s l'initiation du d√©p√¥t, en attendant la r√©ponse du Webhook.üìù 5. COMPOSANTS LIVEWIRE ET VUES CL√âSLes vues suivantes doivent √™tre impl√©ment√©es comme des composants Blade/Livewire r√©utilisables :ComposantDescriptionExigences TechniquesDashboardVue r√©capitulative.Cartes pour chaque devise, graphique d'√©volution (Recettes vs D√©penses).Op√©rations.CreateSaisie des transactions.Formulaire pour la saisie multi-devises et l'upload de Pi√®ces Justificatives (fichiers).Op√©rations.RecurringGestion des pr√©visions.Affichage d'un tableau des op√©rations r√©currentes avec bouton de validation manuelle (qui transforme la pr√©vision en transaction r√©elle).Rapports.GeneratorModule d'exportation.G√©n√©ration des rapports (Journal, Solde, R√©sultat) en formats XLSX et PDF.Settings.CurrencyGestion des taux.Formulaire Livewire pour mettre √† jour le taux de change du jour et afficher l'historique.‚úÖ LIVRABLES ATTENDUS DE L'IA (CURSOR)Le mod√®le doit fournir :La structure des mod√®les Eloquent et les migrations pour les tables cl√©s (Organization, Transaction, AccessLog).L'impl√©mentation du Layout Blade principal int√©grant les classes Tailwind/Bootstrap et le s√©lecteur Dark Mode.Le code initial du Middleware CheckSubscription.Un exemple de composant Livewire (ex: Dashboard.CurrencyCards) utilisant le styling Tailwind CSS.
